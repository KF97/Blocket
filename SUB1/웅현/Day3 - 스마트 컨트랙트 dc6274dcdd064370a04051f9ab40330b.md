# Day3 - 스마트 컨트랙트

생성일: 2021년 8월 25일 오후 11:37

이더리움에서 가장 중요한 개념 중 하나이다!

### 블록체인 기반으로 금융 거래, 부동산 계약, 공증 등 다양한 형태의 계약을 체결하고 이행하는 것을 말한다. 블록체인 2.0이라고도 한다.

2013년 비탈릭 부테린(Vitalik Buterin)이 비트코인의 블록체인 기술을 이용하여 대금결제, 송금 등 금융 거래 뿐만 아니라 모든 종류의 계약을 처리할 수 있도록 기능을 확장하면서 널리 확산되었다. 부테린은 기존 비트코인의 소스 코드를 일부 수정하여 스마트 계약 기능을 구현하고자 하였으나, 비트코인 커뮤니티에서 자신의 요구가 받아들여지지 않자 비트코인을 Fork하여 새로 Ethereum이라는 가상화폐를 만들고 Smart Contract 기능을 구현하였다. 

→ 이 기능을 사용하면 개발자가 직접 계약 조건과 내용을 코딩할 수 있기 때문에, 원칙적으로 인간이 상상할 수 있는 모든 종류의 계약을 이더리움 플랫폼을 통해 구현할 수 있다. 

→ 다만 이를 위해 Solidity라는 Java 기반의 독립적인 프로그래밍 언어를 알아야 하기 때문에, 프로그래머가 아닌 일반인이 직접 스마트 컨트랙트의 조건, 내용을 코딩하기는 어렵다. 

## 1. SmartContract란?

→ 불변의 컴퓨터 프로그램 * 마스터링 이더리움

- 컴퓨터 프로그램
- 불변 : **한번 배포되면 변경 불가**
- 결정적 : 모든 컴퓨터에서 **실행한 결과가 모두 같음.**
- EVM(Ethereum Virtual Machine) 위에서 동작
- 탈중앙화된 World Computer : **동일한 상태를 유지**

이더리움은 전 세계의 컴퓨터가, 마치 하나의 컴퓨터인 것처럼 동작한다!

### 배포와 호출 과정

1. 스마트 컨트랙트 코드 작성
2. 컴파일 통해(**ABI**라는 것이 생성된다. application Binary Interface) 바이트 코드로 전환
3. 트랜잭션 생성하여 컨트랙트 배포 트랜잭션 작성
4. 트랜잭션을 처리하여(**CA** 생성. 계정으로 Contract Address) 블록에 담김 
5. 네트워크를 통해 블록을 전파하고, 블록이 동기화된다.

🤔호출과정은 다음과 같다.

1. 트랜잭션 생성(사용자 계정(EOA), 컨트랙트 계정(CA), ABI, 함수의 주소, 매개변수 등을 포함한다. )
2. 컨트랙트 호출 트랜잭션 생성
3. 트랜잭션을 처리하여, 블록에 담긴다.
4. 네트워크에 블록 전파 트랜잭션 실행 후 블록 동기화

## 2. 환경설정

[Remix - Ethereum IDE](https://remix.ethereum.org/)

`**remix**`를 통해 웹 상에서 스마트 컨트랙트 코드를 작성할 수 있다.

## 3. SC 배포

제일 먼저, `1_Storage.sol`을 선택한다. 이후 컴파일 버튼을 클릭한다. 이제 트랜잭션 생성을 통해 직접적으로 배포하면 된다.